(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,64720,e=>{"use strict";var t=e.i(19097),r=e.i(42947),s=e.i(77255);let i={primary:"bg-accent text-white border-none hover:brightness-90 active:brightness-85 disabled:opacity-50",secondary:"bg-transparent text-foreground border border-border hover:bg-subtle disabled:opacity-50",ghost:"bg-transparent text-foreground border-none hover:text-accent disabled:opacity-50"},a={sm:"px-3 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},n=(0,r.forwardRef)(({variant:e="primary",size:r="md",className:n,...o},c)=>(0,t.jsx)("button",{ref:c,className:(0,s.cn)("inline-flex items-center justify-center rounded-[4px] font-semibold cursor-pointer transition-[filter,background-color,color] duration-150",i[e],a[r],n),...o}));n.displayName="Button",e.s(["Button",0,n])},41937,(e,t,r)=>{t.exports=e.r(95040)},21786,e=>{"use strict";var t=e.i(19097),r=e.i(41937),s=e.i(42947),i=e.i(92974),a=e.i(64720);function n(){let e=(0,r.useSearchParams)().get("code"),[n,o]=(0,s.useState)("idle"),[c,d]=(0,s.useState)("");if(!e)return(0,t.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,t.jsx)("p",{className:"text-muted",children:"No authorization code provided."})});async function l(){o("loading"),d("");try{let t=(0,i.createClient)(),{data:{user:r},error:s}=await t.auth.getUser();if(s||!r){d("You must be logged in to authorize the CLI."),o("error");return}let{error:a}=await t.from("cli_auth_codes").update({user_id:r.id,status:"completed"}).eq("code",e).eq("status","pending");if(a){d("Failed to authorize. The code may have expired."),o("error");return}o("success")}catch{d("Something went wrong. Please try again."),o("error")}}return(0,t.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,t.jsxs)("div",{className:"w-full max-w-sm space-y-6 text-center",children:[(0,t.jsx)("h1",{className:"text-2xl font-medium tracking-tight",children:"Authorize CLI"}),(0,t.jsxs)("div",{className:"border border-border p-6",children:[(0,t.jsx)("p",{className:"text-sm text-muted mb-3",children:"Your authorization code:"}),(0,t.jsx)("p",{className:"font-mono text-3xl font-semibold tracking-widest",children:e})]}),"success"===n?(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-accent font-semibold",children:"CLI authorized"}),(0,t.jsx)("p",{className:"text-sm text-muted",children:"You can close this window and return to your terminal."})]}):(0,t.jsxs)("div",{className:"space-y-3",children:["error"===n&&(0,t.jsx)("p",{className:"text-error text-sm",children:c}),(0,t.jsx)(a.Button,{onClick:l,disabled:"loading"===n,className:"w-full",children:"loading"===n?"Authorizing...":"Authorize CLI"}),(0,t.jsx)("p",{className:"text-xs text-muted",children:"This will grant your CLI access to push usage data on your behalf."})]})]})})}function o(){return(0,t.jsx)(s.Suspense,{fallback:(0,t.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,t.jsx)("p",{className:"text-muted",children:"Loading..."})}),children:(0,t.jsx)(n,{})})}e.s(["default",()=>o])}]);