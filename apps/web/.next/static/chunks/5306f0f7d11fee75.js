(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3898,e=>{"use strict";var t=e.i(19097),s=e.i(42947),n=e.i(83050);function a({initialPosts:e,userId:a}){let[l,r]=(0,s.useState)(e),[o,i]=(0,s.useState)(e.length>=20?e[e.length-1].created_at:null),[c,u]=(0,s.useState)(!1),d=(0,s.useRef)(null),x=(0,s.useCallback)(async()=>{if(!o||c)return;u(!0);let e=await fetch(`/api/feed?cursor=${encodeURIComponent(o)}&limit=20`),t=await e.json();t.posts?.length?(r(e=>[...e,...t.posts]),i(t.next_cursor??null)):i(null),u(!1)},[o,c]);return(0,s.useEffect)(()=>{if(!d.current)return;let e=new IntersectionObserver(e=>{e[0].isIntersecting&&x()},{rootMargin:"200px"});return e.observe(d.current),()=>e.disconnect()},[x]),(0,t.jsxs)("div",{children:[l.map(e=>(0,t.jsx)(n.ActivityCard,{post:e},e.id)),o&&(0,t.jsx)("div",{ref:d,className:"flex justify-center py-8",children:c&&(0,t.jsx)("span",{className:"text-sm text-muted",children:"Loading..."})})]})}e.s(["FeedList",()=>a])},36495,e=>{"use strict";var t=e.i(19097),s=e.i(42947),n=e.i(77255);let a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function l({data:e,onCellClick:l,className:r}){let[o,i]=(0,s.useState)(null),c=new Map;for(let t of e)c.set(t.date,t);let u=new Date;u.setHours(0,0,0,0);let d=new Date(u);d.setDate(u.getDate()-u.getDay()-357);let x=[],h=[],p=-1,g=new Date(d);for(;g<=u;){let e=Math.floor((g.getTime()-d.getTime())/6048e5),t=g.getDay();x.push({date:new Date(g),key:function(e){let t=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${t}-${s}-${n}`}(g),weekIndex:e,dayIndex:t});let s=g.getMonth();s!==p&&(h.push({label:a[s],x:15*e}),p=s),g.setDate(g.getDate()+1)}let m=(0,s.useCallback)((e,t,s)=>{let n=e.target.getBoundingClientRect();i({x:n.left+n.width/2,y:n.top,date:t,cost:s})},[]),f=(0,s.useCallback)(()=>i(null),[]);return(0,t.jsxs)("div",{className:(0,n.cn)("relative overflow-x-auto",r),style:{scrollbarWidth:"none"},children:[(0,t.jsxs)("svg",{width:795,height:121,className:"block",children:[h.map((e,s)=>(0,t.jsx)("text",{x:e.x,y:11,className:"fill-muted text-[10px]",children:e.label},`${e.label}-${s}`)),x.map(e=>{let s=c.get(e.key),a=s?.cost_usd??0,r=s?.has_post??!1;return(0,t.jsx)("rect",{x:15*e.weekIndex,y:15*e.dayIndex+16,width:12,height:12,rx:2,fill:a<=0?"#E5E5E5":a<=10?"#FDD0B1":a<=50?"#F4945E":a<=100?"#DF561F":"#B8441A",stroke:r?"#999":"none",strokeWidth:+!!r,className:(0,n.cn)(l&&r&&"cursor-pointer"),onMouseEnter:t=>m(t,e.date.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),a),onMouseLeave:f,onClick:()=>{l&&r&&l(e.key)}},e.key)})]}),o&&(0,t.jsxs)("div",{className:"pointer-events-none fixed z-50 -translate-x-1/2 -translate-y-full rounded-[4px] px-3 py-2 text-sm text-white shadow-lg",style:{left:o.x,top:o.y-8,background:"#000"},children:[(0,t.jsx)("p",{className:"font-normal leading-snug",children:o.date}),(0,t.jsxs)("p",{className:"font-mono tabular-nums",children:["$",o.cost.toFixed(2)]})]})]})}e.s(["ContributionGraph",()=>l])},27601,e=>{"use strict";var t=e.i(19097),s=e.i(42947);function n({username:e,initialFollowing:n}){let[a,l]=(0,s.useState)(n),[r,o]=(0,s.useState)(!1);async function i(){o(!0),(await fetch(`/api/follow/${e}`,{method:a?"DELETE":"POST"})).ok&&l(!a),o(!1)}return(0,t.jsx)("button",{onClick:i,disabled:r,className:a?"border border-border px-3 py-1 text-sm font-semibold hover:bg-subtle disabled:opacity-50":"bg-accent px-3 py-1 text-sm font-semibold text-white disabled:opacity-50",style:{borderRadius:4},children:a?"Following":"Follow"})}e.s(["FollowButton",()=>n])}]);