(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,32474,e=>{"use strict";var t=e.i(19097),s=e.i(77255);let r={xs:{px:24,text:"text-[10px]"},sm:{px:32,text:"text-xs"},md:{px:40,text:"text-sm"},lg:{px:80,text:"text-xl"},xl:{px:120,text:"text-3xl"}};function a({src:e,alt:a="",size:i="md",fallback:l,className:n}){let{px:o,text:d}=r[i],c=l?l.split(/\s+/).slice(0,2).map(e=>e[0]?.toUpperCase()??"").join(""):"?";return e?(0,t.jsx)("img",{src:e,alt:a,width:o,height:o,className:(0,s.cn)("rounded-full object-cover shrink-0",n),style:{width:o,height:o}}):(0,t.jsx)("div",{className:(0,s.cn)("rounded-full bg-subtle text-muted flex items-center justify-center shrink-0 font-medium select-none",d,n),style:{width:o,height:o},"aria-label":a,children:c})}e.s(["Avatar",()=>a])},64720,e=>{"use strict";var t=e.i(19097),s=e.i(42947),r=e.i(77255);let a={primary:"bg-accent text-white border-none hover:brightness-90 active:brightness-85 disabled:opacity-50",secondary:"bg-transparent text-foreground border border-border hover:bg-subtle disabled:opacity-50",ghost:"bg-transparent text-foreground border-none hover:text-accent disabled:opacity-50"},i={sm:"px-3 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},l=(0,s.forwardRef)(({variant:e="primary",size:s="md",className:l,...n},o)=>(0,t.jsx)("button",{ref:o,className:(0,r.cn)("inline-flex items-center justify-center rounded-[4px] font-semibold cursor-pointer transition-[filter,background-color,color] duration-150",a[e],i[s],l),...n}));l.displayName="Button",e.s(["Button",0,l])},76444,e=>{"use strict";var t=e.i(19097),s=e.i(42947),r=e.i(77255);let a=(0,s.forwardRef)(({error:e,className:s,...a},i)=>(0,t.jsx)("textarea",{ref:i,className:(0,r.cn)("w-full rounded-[4px] border bg-white px-4 py-3 text-base text-foreground placeholder:text-muted outline-none transition-[border-color,box-shadow] duration-150 resize-y min-h-[100px]",e?"border-error":"border-border focus:border-accent focus:ring-3 focus:ring-accent/15",s),...a}));a.displayName="Textarea",e.s(["Textarea",0,a])},99760,e=>{"use strict";var t=e.i(19097),s=e.i(42947),r=e.i(77255);let a=(0,s.forwardRef)(({error:e,className:s,...a},i)=>(0,t.jsx)("input",{ref:i,className:(0,r.cn)("w-full rounded-[4px] border bg-white px-4 py-3 text-base text-foreground placeholder:text-muted outline-none transition-[border-color,box-shadow] duration-150",e?"border-error":"border-border focus:border-accent focus:ring-3 focus:ring-accent/15",s),...a}));a.displayName="Input",e.s(["Input",0,a])},35027,e=>{"use strict";var t=e.i(19097),s=e.i(42947),r=e.i(92974),a=e.i(62030),i=e.i(99760),l=e.i(76444),n=e.i(64720),o=e.i(32474);function d(){let[e,d]=(0,s.useState)(null),[c,u]=(0,s.useState)(!1),[x,m]=(0,s.useState)(!1),[b,p]=(0,s.useState)(null),[h,g]=(0,s.useState)(""),[f,v]=(0,s.useState)(""),[j,N]=(0,s.useState)(""),[y,w]=(0,s.useState)(""),[k,S]=(0,s.useState)(""),[C,I]=(0,s.useState)(""),[T,_]=(0,s.useState)(!0),[U,z]=(0,s.useState)("");async function A(e){e.preventDefault(),u(!0),p(null),m(!1);let t=await fetch("/api/users/me",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:h||void 0,display_name:f||void 0,bio:j||void 0,link:y||void 0,country:k||void 0,github_username:C||void 0,is_public:T,timezone:U})});t.ok?m(!0):p((await t.json()).error??"Failed to save"),u(!1)}return((0,s.useEffect)(()=>{!async function(){let e=(0,r.createClient)(),{data:{user:t}}=await e.auth.getUser();if(!t)return;let{data:s}=await e.from("users").select("*").eq("id",t.id).single();s&&(d(s),g(s.username??""),v(s.display_name??""),N(s.bio??""),w(s.link??""),S(s.country??""),I(s.github_username??""),_(s.is_public),z(s.timezone??Intl.DateTimeFormat().resolvedOptions().timeZone))}()},[]),e)?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("header",{className:"sticky top-0 z-10 flex h-16 items-center justify-between border-b border-border bg-background px-6",children:[(0,t.jsx)("h3",{className:"text-lg font-medium",children:"Settings"}),(0,t.jsx)(a.default,{href:"/settings/import",className:"text-sm font-semibold text-accent hover:underline",children:"Import Usage Data"})]}),(0,t.jsxs)("form",{onSubmit:A,className:"mx-auto max-w-lg space-y-6 px-6 py-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 border-b border-border pb-6",children:[(0,t.jsx)(o.Avatar,{src:e.avatar_url,alt:e.username??"",fallback:f||h||"?",size:"lg"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:e.username??"No username set"}),(0,t.jsx)("p",{className:"text-sm text-muted",children:e.id})]})]}),(0,t.jsxs)("div",{className:"border-b border-border pb-6",children:[(0,t.jsx)("label",{className:"mb-1 block text-xs font-semibold uppercase tracking-widest text-muted",children:"Username"}),(0,t.jsx)(i.Input,{value:h,onChange:e=>g(e.target.value),placeholder:"your_username",maxLength:20,pattern:"^[a-zA-Z0-9_]{3,20}$"}),(0,t.jsx)("p",{className:"mt-1 text-xs text-muted",children:"3-20 chars, alphanumeric + underscore"})]}),(0,t.jsxs)("div",{className:"border-b border-border pb-6",children:[(0,t.jsx)("label",{className:"mb-1 block text-xs font-semibold uppercase tracking-widest text-muted",children:"Display Name"}),(0,t.jsx)(i.Input,{value:f,onChange:e=>v(e.target.value)})]}),(0,t.jsxs)("div",{className:"border-b border-border pb-6",children:[(0,t.jsx)("label",{className:"mb-1 block text-xs font-semibold uppercase tracking-widest text-muted",children:"Bio"}),(0,t.jsx)(l.Textarea,{value:j,onChange:e=>N(e.target.value),maxLength:160,rows:2,className:"min-h-0"}),(0,t.jsxs)("p",{className:"mt-1 text-xs text-muted",children:[j.length,"/160"]})]}),(0,t.jsxs)("div",{className:"border-b border-border pb-6",children:[(0,t.jsx)("label",{className:"mb-1 block text-xs font-semibold uppercase tracking-widest text-muted",children:"Country (ISO code)"}),(0,t.jsx)(i.Input,{value:k,onChange:e=>S(e.target.value.toUpperCase()),placeholder:"US",maxLength:2})]}),(0,t.jsxs)("div",{className:"border-b border-border pb-6",children:[(0,t.jsx)("label",{className:"mb-1 block text-xs font-semibold uppercase tracking-widest text-muted",children:"Website"}),(0,t.jsx)(i.Input,{value:y,onChange:e=>w(e.target.value),placeholder:"https://example.com",maxLength:200})]}),(0,t.jsxs)("div",{className:"border-b border-border pb-6",children:[(0,t.jsx)("label",{className:"mb-1 block text-xs font-semibold uppercase tracking-widest text-muted",children:"GitHub Username"}),(0,t.jsx)(i.Input,{value:C,onChange:e=>I(e.target.value)})]}),(0,t.jsxs)("div",{className:"border-b border-border pb-6",children:[(0,t.jsx)("label",{className:"mb-1 block text-xs font-semibold uppercase tracking-widest text-muted",children:"Timezone"}),(0,t.jsx)(i.Input,{value:U,onChange:e=>z(e.target.value)})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("input",{type:"checkbox",checked:T,onChange:e=>_(e.target.checked),id:"is_public",className:"accent-accent"}),(0,t.jsx)("label",{htmlFor:"is_public",className:"text-sm",children:"Public profile (visible on leaderboard)"})]}),b&&(0,t.jsx)("p",{className:"text-sm text-error",children:b}),x&&(0,t.jsx)("p",{className:"text-sm text-accent",children:"Saved successfully."}),(0,t.jsx)(n.Button,{type:"submit",disabled:c,className:"w-full py-3",children:c?"Saving...":"Save Changes"})]})]}):(0,t.jsx)("div",{className:"p-6 text-sm text-muted",children:"Loading..."})}e.s(["default",()=>d])}]);