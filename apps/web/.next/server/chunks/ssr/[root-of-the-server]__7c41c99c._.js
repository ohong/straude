module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},44665,a=>{a.n(a.i(28992))},21683,a=>{a.n(a.i(46308))},7576,a=>{a.n(a.i(10021))},73971,a=>{a.n(a.i(27551))},73921,a=>{a.n(a.i(20837))},35868,a=>{a.n(a.i(60322))},97787,a=>{"use strict";a.s(["ActivityCard",()=>b]);let b=(0,a.i(88265).registerClientReference)(function(){throw Error("Attempted to call ActivityCard() from the server but ActivityCard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/apps/web/components/app/feed/ActivityCard.tsx <module evaluation>","ActivityCard")},61579,a=>{"use strict";a.s(["ActivityCard",()=>b]);let b=(0,a.i(88265).registerClientReference)(function(){throw Error("Attempted to call ActivityCard() from the server but ActivityCard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/apps/web/components/app/feed/ActivityCard.tsx","ActivityCard")},57043,a=>{"use strict";a.i(97787);var b=a.i(61579);a.n(b)},63920,a=>{"use strict";a.s(["CommentThread",()=>b]);let b=(0,a.i(88265).registerClientReference)(function(){throw Error("Attempted to call CommentThread() from the server but CommentThread is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/apps/web/components/app/post/CommentThread.tsx <module evaluation>","CommentThread")},33995,a=>{"use strict";a.s(["CommentThread",()=>b]);let b=(0,a.i(88265).registerClientReference)(function(){throw Error("Attempted to call CommentThread() from the server but CommentThread is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/apps/web/components/app/post/CommentThread.tsx","CommentThread")},63164,a=>{"use strict";a.i(63920);var b=a.i(33995);a.n(b)},54366,a=>{"use strict";a.s(["PostEditor",()=>b]);let b=(0,a.i(88265).registerClientReference)(function(){throw Error("Attempted to call PostEditor() from the server but PostEditor is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/apps/web/components/app/post/PostEditor.tsx <module evaluation>","PostEditor")},46165,a=>{"use strict";a.s(["PostEditor",()=>b]);let b=(0,a.i(88265).registerClientReference)(function(){throw Error("Attempted to call PostEditor() from the server but PostEditor is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/apps/web/components/app/post/PostEditor.tsx","PostEditor")},60353,a=>{"use strict";a.i(54366);var b=a.i(46165);a.n(b)},86378,a=>{"use strict";var b=a.i(61944),c=a.i(80159);a.i(22530);var d=a.i(38584),e=a.i(57043),f=a.i(63164),g=a.i(60353);async function h({params:a}){let{id:b}=await a,d=await (0,c.createClient)(),{data:e}=await d.from("posts").select("title, user:users!posts_user_id_fkey(username)").eq("id",b).single();return{title:e?.title??`Post by ${e?.user?.username??"user"}`}}async function i({params:a}){let{id:h}=await a,i=await (0,c.createClient)(),{data:{user:j}}=await i.auth.getUser(),{data:k}=await i.from("posts").select(`
      *,
      user:users!posts_user_id_fkey(*),
      daily_usage:daily_usage!posts_daily_usage_id_fkey(*),
      kudos_count:kudos(count),
      comment_count:comments(count)
    `).eq("id",h).single();k||(0,d.notFound)();let l=!1;if(j){let{data:a}=await i.from("kudos").select("id").eq("user_id",j.id).eq("post_id",h).maybeSingle();l=!!a}let{data:m}=await i.from("comments").select("*, user:users!comments_user_id_fkey(*)").eq("post_id",h).order("created_at",{ascending:!0}).limit(20),n={...k,kudos_count:k.kudos_count?.[0]?.count??0,comment_count:k.comment_count?.[0]?.count??0,has_kudosed:l},o=j?.id===k.user_id;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("header",{className:"sticky top-0 z-10 flex h-16 items-center border-b border-border bg-background px-6",children:(0,b.jsx)("h3",{className:"text-lg font-medium",children:"Post"})}),(0,b.jsx)(e.ActivityCard,{post:n}),o&&(0,b.jsx)(g.PostEditor,{post:n}),(0,b.jsx)(f.CommentThread,{postId:h,initialComments:m??[],userId:j?.id??null})]})}a.s(["default",()=>i,"generateMetadata",()=>h])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__7c41c99c._.js.map