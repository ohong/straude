module.exports=[11915,a=>{"use strict";var b=a.i(63291),c=a.i(3252),d=a.i(86530);function e({initialPosts:a,userId:e}){let[f,g]=(0,c.useState)(a),[h,i]=(0,c.useState)(a.length>=20?a[a.length-1].created_at:null),[j,k]=(0,c.useState)(!1),l=(0,c.useRef)(null),m=(0,c.useCallback)(async()=>{if(!h||j)return;k(!0);let a=await fetch(`/api/feed?cursor=${encodeURIComponent(h)}&limit=20`),b=await a.json();b.posts?.length?(g(a=>[...a,...b.posts]),i(b.next_cursor??null)):i(null),k(!1)},[h,j]);return(0,c.useEffect)(()=>{if(!l.current)return;let a=new IntersectionObserver(a=>{a[0].isIntersecting&&m()},{rootMargin:"200px"});return a.observe(l.current),()=>a.disconnect()},[m]),(0,b.jsxs)("div",{children:[f.map(a=>(0,b.jsx)(d.ActivityCard,{post:a},a.id)),h&&(0,b.jsx)("div",{ref:l,className:"flex justify-center py-8",children:j&&(0,b.jsx)("span",{className:"text-sm text-muted",children:"Loading..."})})]})}a.s(["FeedList",()=>e])},7297,a=>{"use strict";var b=a.i(63291),c=a.i(3252),d=a.i(37503);let e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function f({data:a,onCellClick:f,className:g}){let[h,i]=(0,c.useState)(null),j=new Map;for(let b of a)j.set(b.date,b);let k=new Date;k.setHours(0,0,0,0);let l=new Date(k);l.setDate(k.getDate()-k.getDay()-357);let m=[],n=[],o=-1,p=new Date(l);for(;p<=k;){let a=Math.floor((p.getTime()-l.getTime())/6048e5),b=p.getDay();m.push({date:new Date(p),key:function(a){let b=a.getFullYear(),c=String(a.getMonth()+1).padStart(2,"0"),d=String(a.getDate()).padStart(2,"0");return`${b}-${c}-${d}`}(p),weekIndex:a,dayIndex:b});let c=p.getMonth();c!==o&&(n.push({label:e[c],x:15*a}),o=c),p.setDate(p.getDate()+1)}let q=(0,c.useCallback)((a,b,c)=>{let d=a.target.getBoundingClientRect();i({x:d.left+d.width/2,y:d.top,date:b,cost:c})},[]),r=(0,c.useCallback)(()=>i(null),[]);return(0,b.jsxs)("div",{className:(0,d.cn)("relative overflow-x-auto",g),style:{scrollbarWidth:"none"},children:[(0,b.jsxs)("svg",{width:795,height:121,className:"block",children:[n.map((a,c)=>(0,b.jsx)("text",{x:a.x,y:11,className:"fill-muted text-[10px]",children:a.label},`${a.label}-${c}`)),m.map(a=>{let c=j.get(a.key),e=c?.cost_usd??0,g=c?.has_post??!1;return(0,b.jsx)("rect",{x:15*a.weekIndex,y:15*a.dayIndex+16,width:12,height:12,rx:2,fill:e<=0?"#E5E5E5":e<=10?"#FDD0B1":e<=50?"#F4945E":e<=100?"#DF561F":"#B8441A",stroke:g?"#999":"none",strokeWidth:+!!g,className:(0,d.cn)(f&&g&&"cursor-pointer"),onMouseEnter:b=>q(b,a.date.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),e),onMouseLeave:r,onClick:()=>{f&&g&&f(a.key)}},a.key)})]}),h&&(0,b.jsxs)("div",{className:"pointer-events-none fixed z-50 -translate-x-1/2 -translate-y-full rounded-[4px] px-3 py-2 text-sm text-white shadow-lg",style:{left:h.x,top:h.y-8,background:"#000"},children:[(0,b.jsx)("p",{className:"font-normal leading-snug",children:h.date}),(0,b.jsxs)("p",{className:"font-mono tabular-nums",children:["$",h.cost.toFixed(2)]})]})]})}a.s(["ContributionGraph",()=>f])},48392,a=>{"use strict";var b=a.i(63291),c=a.i(3252);function d({username:a,initialFollowing:d}){let[e,f]=(0,c.useState)(d),[g,h]=(0,c.useState)(!1);async function i(){h(!0),(await fetch(`/api/follow/${a}`,{method:e?"DELETE":"POST"})).ok&&f(!e),h(!1)}return(0,b.jsx)("button",{onClick:i,disabled:g,className:e?"border border-border px-3 py-1 text-sm font-semibold hover:bg-subtle disabled:opacity-50":"bg-accent px-3 py-1 text-sm font-semibold text-white disabled:opacity-50",style:{borderRadius:4},children:e?"Following":"Follow"})}a.s(["FollowButton",()=>d])}];

//# sourceMappingURL=apps_web_components_app_66c49145._.js.map