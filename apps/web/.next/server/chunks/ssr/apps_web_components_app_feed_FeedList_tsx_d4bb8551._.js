module.exports=[11915,a=>{"use strict";var b=a.i(63291),c=a.i(3252),d=a.i(86530);function e({initialPosts:a,userId:e}){let[f,g]=(0,c.useState)(a),[h,i]=(0,c.useState)(a.length>=20?a[a.length-1].created_at:null),[j,k]=(0,c.useState)(!1),l=(0,c.useRef)(null),m=(0,c.useCallback)(async()=>{if(!h||j)return;k(!0);let a=await fetch(`/api/feed?cursor=${encodeURIComponent(h)}&limit=20`),b=await a.json();b.posts?.length?(g(a=>[...a,...b.posts]),i(b.next_cursor??null)):i(null),k(!1)},[h,j]);return(0,c.useEffect)(()=>{if(!l.current)return;let a=new IntersectionObserver(a=>{a[0].isIntersecting&&m()},{rootMargin:"200px"});return a.observe(l.current),()=>a.disconnect()},[m]),(0,b.jsxs)("div",{children:[f.map(a=>(0,b.jsx)(d.ActivityCard,{post:a},a.id)),h&&(0,b.jsx)("div",{ref:l,className:"flex justify-center py-8",children:j&&(0,b.jsx)("span",{className:"text-sm text-muted",children:"Loading..."})})]})}a.s(["FeedList",()=>e])}];

//# sourceMappingURL=apps_web_components_app_feed_FeedList_tsx_d4bb8551._.js.map