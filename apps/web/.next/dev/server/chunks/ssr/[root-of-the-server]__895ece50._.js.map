{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/ohong/dev/straude/apps/web/components/app/leaderboard/LeaderboardTable.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const LeaderboardTable = registerClientReference(\n    function() { throw new Error(\"Attempted to call LeaderboardTable() from the server but LeaderboardTable is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/web/components/app/leaderboard/LeaderboardTable.tsx <module evaluation>\",\n    \"LeaderboardTable\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,mBAAmB,IAAA,6UAAuB,EACnD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,0FACA","ignoreList":[0]}},
    {"offset": {"line": 36, "column": 0}, "map": {"version":3,"sources":["file:///Users/ohong/dev/straude/apps/web/components/app/leaderboard/LeaderboardTable.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const LeaderboardTable = registerClientReference(\n    function() { throw new Error(\"Attempted to call LeaderboardTable() from the server but LeaderboardTable is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/web/components/app/leaderboard/LeaderboardTable.tsx\",\n    \"LeaderboardTable\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,mBAAmB,IAAA,6UAAuB,EACnD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,sEACA","ignoreList":[0]}},
    {"offset": {"line": 50, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///Users/ohong/dev/straude/apps/web/app/%28app%29/leaderboard/page.tsx"],"sourcesContent":["import { createClient } from \"@/lib/supabase/server\";\nimport { LeaderboardTable } from \"@/components/app/leaderboard/LeaderboardTable\";\nimport type { Metadata } from \"next\";\n\nexport const metadata: Metadata = { title: \"Leaderboard\" };\n\nexport default async function LeaderboardPage({\n  searchParams,\n}: {\n  searchParams: Promise<{ period?: string; region?: string }>;\n}) {\n  const { period = \"week\", region } = await searchParams;\n  const supabase = await createClient();\n  const {\n    data: { user },\n  } = await supabase.auth.getUser();\n\n  // Fetch leaderboard data from API\n  const params = new URLSearchParams({ period, limit: \"50\" });\n  if (region) params.set(\"region\", region);\n\n  // We'll use the materialized view directly for SSR\n  const viewName = `leaderboard_${period === \"all_time\" ? \"all_time\" : period === \"month\" ? \"monthly\" : period === \"day\" ? \"daily\" : \"weekly\"}`;\n\n  let query = supabase\n    .from(viewName)\n    .select(\"*\")\n    .order(\"total_cost\", { ascending: false })\n    .limit(50);\n\n  if (region) {\n    query = query.eq(\"region\", region);\n  }\n\n  const { data: entries } = await query;\n\n  // Get current user's profile for highlighting\n  const { data: profile } = await supabase\n    .from(\"users\")\n    .select(\"country, region\")\n    .eq(\"id\", user!.id)\n    .single();\n\n  // Add rank numbers\n  const ranked =\n    entries?.map((e, i) => ({\n      ...e,\n      rank: i + 1,\n      total_cost: Number(e.total_cost),\n      total_tokens: Number(e.total_tokens),\n    })) ?? [];\n\n  return (\n    <>\n      <header className=\"sticky top-0 z-10 flex h-16 items-center border-b border-border bg-background px-6\">\n        <h3 className=\"text-lg font-medium\">Leaderboard</h3>\n      </header>\n\n      <LeaderboardTable\n        entries={ranked}\n        currentUserId={user!.id}\n        currentPeriod={period}\n        currentRegion={region ?? null}\n        userCountry={profile?.country ?? null}\n      />\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;;;;AAGO,MAAM,WAAqB;IAAE,OAAO;AAAc;AAE1C,eAAe,gBAAgB,EAC5C,YAAY,EAGb;IACC,MAAM,EAAE,SAAS,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM;IAC1C,MAAM,WAAW,MAAM,IAAA,wJAAY;IACnC,MAAM,EACJ,MAAM,EAAE,IAAI,EAAE,EACf,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;IAE/B,kCAAkC;IAClC,MAAM,SAAS,IAAI,gBAAgB;QAAE;QAAQ,OAAO;IAAK;IACzD,IAAI,QAAQ,OAAO,GAAG,CAAC,UAAU;IAEjC,mDAAmD;IACnD,MAAM,WAAW,CAAC,YAAY,EAAE,WAAW,aAAa,aAAa,WAAW,UAAU,YAAY,WAAW,QAAQ,UAAU,UAAU;IAE7I,IAAI,QAAQ,SACT,IAAI,CAAC,UACL,MAAM,CAAC,KACP,KAAK,CAAC,cAAc;QAAE,WAAW;IAAM,GACvC,KAAK,CAAC;IAET,IAAI,QAAQ;QACV,QAAQ,MAAM,EAAE,CAAC,UAAU;IAC7B;IAEA,MAAM,EAAE,MAAM,OAAO,EAAE,GAAG,MAAM;IAEhC,8CAA8C;IAC9C,MAAM,EAAE,MAAM,OAAO,EAAE,GAAG,MAAM,SAC7B,IAAI,CAAC,SACL,MAAM,CAAC,mBACP,EAAE,CAAC,MAAM,KAAM,EAAE,EACjB,MAAM;IAET,mBAAmB;IACnB,MAAM,SACJ,SAAS,IAAI,CAAC,GAAG,IAAM,CAAC;YACtB,GAAG,CAAC;YACJ,MAAM,IAAI;YACV,YAAY,OAAO,EAAE,UAAU;YAC/B,cAAc,OAAO,EAAE,YAAY;QACrC,CAAC,MAAM,EAAE;IAEX,qBACE;;0BACE,mTAAC;gBAAO,WAAU;0BAChB,cAAA,mTAAC;oBAAG,WAAU;8BAAsB;;;;;;;;;;;0BAGtC,mTAAC,wLAAgB;gBACf,SAAS;gBACT,eAAe,KAAM,EAAE;gBACvB,eAAe;gBACf,eAAe,UAAU;gBACzB,aAAa,SAAS,WAAW;;;;;;;;AAIzC"}}]
}