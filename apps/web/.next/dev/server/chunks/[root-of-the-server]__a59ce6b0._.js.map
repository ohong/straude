{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/ohong/dev/straude/apps/web/lib/supabase/server.ts"],"sourcesContent":["import { createServerClient } from \"@supabase/ssr\";\nimport { cookies } from \"next/headers\";\n\nexport async function createClient() {\n  const cookieStore = await cookies();\n  return createServerClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY!,\n    {\n      cookies: {\n        getAll() {\n          return cookieStore.getAll();\n        },\n        setAll(cookiesToSet: { name: string; value: string; options?: Record<string, unknown> }[]) {\n          cookiesToSet.forEach(({ name, value, options }) =>\n            cookieStore.set(name, value, options as any)\n          );\n        },\n      },\n    }\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;;;AAEO,eAAe;IACpB,MAAM,cAAc,MAAM,IAAA,iNAAO;IACjC,OAAO,IAAA,kRAAkB,oKAGvB;QACE,SAAS;YACP;gBACE,OAAO,YAAY,MAAM;YAC3B;YACA,QAAO,YAAkF;gBACvF,aAAa,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,GAC5C,YAAY,GAAG,CAAC,MAAM,OAAO;YAEjC;QACF;IACF;AAEJ"}},
    {"offset": {"line": 72, "column": 0}, "map": {"version":3,"sources":["file:///Users/ohong/dev/straude/apps/web/app/api/search/route.ts"],"sourcesContent":["import { NextResponse, type NextRequest } from \"next/server\";\nimport { createClient } from \"@/lib/supabase/server\";\n\nexport async function GET(request: NextRequest) {\n  const supabase = await createClient();\n\n  const q = request.nextUrl.searchParams.get(\"q\") ?? \"\";\n  const limit = Math.min(\n    Number(request.nextUrl.searchParams.get(\"limit\") ?? 20),\n    50\n  );\n\n  if (q.length < 2) {\n    return NextResponse.json(\n      { error: \"Query must be at least 2 characters\" },\n      { status: 400 }\n    );\n  }\n\n  const { data: users, error } = await supabase\n    .from(\"users\")\n    .select(\"*\")\n    .not(\"username\", \"is\", null)\n    .ilike(\"username\", `%${q}%`)\n    .limit(limit);\n\n  if (error) {\n    return NextResponse.json({ error: error.message }, { status: 500 });\n  }\n\n  return NextResponse.json({ users: users ?? [] });\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe,IAAI,OAAoB;IAC5C,MAAM,WAAW,MAAM,IAAA,0JAAY;IAEnC,MAAM,IAAI,QAAQ,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC,QAAQ;IACnD,MAAM,QAAQ,KAAK,GAAG,CACpB,OAAO,QAAQ,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC,YAAY,KACpD;IAGF,IAAI,EAAE,MAAM,GAAG,GAAG;QAChB,OAAO,qNAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAsC,GAC/C;YAAE,QAAQ;QAAI;IAElB;IAEA,MAAM,EAAE,MAAM,KAAK,EAAE,KAAK,EAAE,GAAG,MAAM,SAClC,IAAI,CAAC,SACL,MAAM,CAAC,KACP,GAAG,CAAC,YAAY,MAAM,MACtB,KAAK,CAAC,YAAY,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,EAC1B,KAAK,CAAC;IAET,IAAI,OAAO;QACT,OAAO,qNAAY,CAAC,IAAI,CAAC;YAAE,OAAO,MAAM,OAAO;QAAC,GAAG;YAAE,QAAQ;QAAI;IACnE;IAEA,OAAO,qNAAY,CAAC,IAAI,CAAC;QAAE,OAAO,SAAS,EAAE;IAAC;AAChD"}}]
}