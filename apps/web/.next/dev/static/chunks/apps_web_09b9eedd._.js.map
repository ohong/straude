{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/ohong/dev/straude/apps/web/lib/supabase/client.ts"],"sourcesContent":["import { createBrowserClient } from \"@supabase/ssr\";\n\nexport function createClient() {\n  return createBrowserClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY!\n  );\n}\n"],"names":[],"mappings":";;;;AAII;AAJJ;AAAA;;AAEO,SAAS;IACd,OAAO,IAAA,qRAAmB;AAI5B"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/ohong/dev/straude/apps/web/lib/utils/cn.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sOAAO,EAAC,IAAA,gMAAI,EAAC;AACtB"}},
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///Users/ohong/dev/straude/apps/web/components/ui/Button.tsx"],"sourcesContent":["import { forwardRef, type ButtonHTMLAttributes } from \"react\";\nimport { cn } from \"@/lib/utils/cn\";\n\ntype ButtonVariant = \"primary\" | \"secondary\" | \"ghost\";\ntype ButtonSize = \"sm\" | \"md\" | \"lg\";\n\ninterface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: ButtonVariant;\n  size?: ButtonSize;\n}\n\nconst variantStyles: Record<ButtonVariant, string> = {\n  primary:\n    \"bg-accent text-white border-none hover:brightness-90 active:brightness-85 disabled:opacity-50\",\n  secondary:\n    \"bg-transparent text-foreground border border-border hover:bg-subtle disabled:opacity-50\",\n  ghost:\n    \"bg-transparent text-foreground border-none hover:text-accent disabled:opacity-50\",\n};\n\nconst sizeStyles: Record<ButtonSize, string> = {\n  sm: \"px-3 py-1.5 text-xs\",\n  md: \"px-4 py-2 text-sm\",\n  lg: \"px-6 py-3 text-base\",\n};\n\nexport const Button = forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ variant = \"primary\", size = \"md\", className, ...props }, ref) => {\n    return (\n      <button\n        ref={ref}\n        className={cn(\n          \"inline-flex items-center justify-center rounded-[4px] font-semibold cursor-pointer transition-[filter,background-color,color] duration-150\",\n          variantStyles[variant],\n          sizeStyles[size],\n          className,\n        )}\n        {...props}\n      />\n    );\n  },\n);\n\nButton.displayName = \"Button\";\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAUA,MAAM,gBAA+C;IACnD,SACE;IACF,WACE;IACF,OACE;AACJ;AAEA,MAAM,aAAyC;IAC7C,IAAI;IACJ,IAAI;IACJ,IAAI;AACN;AAEO,MAAM,uBAAS,IAAA,gPAAU,OAC9B,CAAC,EAAE,UAAU,SAAS,EAAE,OAAO,IAAI,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC1D,qBACE,kQAAC;QACC,KAAK;QACL,WAAW,IAAA,0IAAE,EACX,8IACA,aAAa,CAAC,QAAQ,EACtB,UAAU,CAAC,KAAK,EAChB;QAED,GAAG,KAAK;;;;;;AAGf;;AAGF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 83, "column": 0}, "map": {"version":3,"sources":["file:///Users/ohong/dev/straude/apps/web/app/cli/verify/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useSearchParams } from \"next/navigation\";\nimport { useState, Suspense } from \"react\";\nimport { createClient } from \"@/lib/supabase/client\";\nimport { Button } from \"@/components/ui/Button\";\n\nfunction VerifyContent() {\n  const searchParams = useSearchParams();\n  const code = searchParams.get(\"code\");\n  const [state, setState] = useState<\"idle\" | \"loading\" | \"success\" | \"error\">(\"idle\");\n  const [errorMsg, setErrorMsg] = useState(\"\");\n\n  if (!code) {\n    return (\n      <div className=\"flex min-h-screen items-center justify-center\">\n        <p className=\"text-muted\">No authorization code provided.</p>\n      </div>\n    );\n  }\n\n  async function handleAuthorize() {\n    setState(\"loading\");\n    setErrorMsg(\"\");\n\n    try {\n      const supabase = createClient();\n      const { data: { user }, error: authError } = await supabase.auth.getUser();\n\n      if (authError || !user) {\n        setErrorMsg(\"You must be logged in to authorize the CLI.\");\n        setState(\"error\");\n        return;\n      }\n\n      const { error: updateError } = await supabase\n        .from(\"cli_auth_codes\")\n        .update({ user_id: user.id, status: \"completed\" })\n        .eq(\"code\", code)\n        .eq(\"status\", \"pending\");\n\n      if (updateError) {\n        setErrorMsg(\"Failed to authorize. The code may have expired.\");\n        setState(\"error\");\n        return;\n      }\n\n      setState(\"success\");\n    } catch {\n      setErrorMsg(\"Something went wrong. Please try again.\");\n      setState(\"error\");\n    }\n  }\n\n  return (\n    <div className=\"flex min-h-screen items-center justify-center\">\n      <div className=\"w-full max-w-sm space-y-6 text-center\">\n        <h1 className=\"text-2xl font-medium tracking-tight\">Authorize CLI</h1>\n\n        <div className=\"border border-border p-6\">\n          <p className=\"text-sm text-muted mb-3\">Your authorization code:</p>\n          <p className=\"font-mono text-3xl font-semibold tracking-widest\">{code}</p>\n        </div>\n\n        {state === \"success\" ? (\n          <div className=\"space-y-2\">\n            <p className=\"text-accent font-semibold\">CLI authorized</p>\n            <p className=\"text-sm text-muted\">You can close this window and return to your terminal.</p>\n          </div>\n        ) : (\n          <div className=\"space-y-3\">\n            {state === \"error\" && (\n              <p className=\"text-error text-sm\">{errorMsg}</p>\n            )}\n            <Button\n              onClick={handleAuthorize}\n              disabled={state === \"loading\"}\n              className=\"w-full\"\n            >\n              {state === \"loading\" ? \"Authorizing...\" : \"Authorize CLI\"}\n            </Button>\n            <p className=\"text-xs text-muted\">\n              This will grant your CLI access to push usage data on your behalf.\n            </p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default function CliVerifyPage() {\n  return (\n    <Suspense\n      fallback={\n        <div className=\"flex min-h-screen items-center justify-center\">\n          <p className=\"text-muted\">Loading...</p>\n        </div>\n      }\n    >\n      <VerifyContent />\n    </Suspense>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAOA,SAAS;;IACP,MAAM,eAAe,IAAA,6NAAe;IACpC,MAAM,OAAO,aAAa,GAAG,CAAC;IAC9B,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,8OAAQ,EAA2C;IAC7E,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,8OAAQ,EAAC;IAEzC,IAAI,CAAC,MAAM;QACT,qBACE,kQAAC;YAAI,WAAU;sBACb,cAAA,kQAAC;gBAAE,WAAU;0BAAa;;;;;;;;;;;IAGhC;IAEA,eAAe;QACb,SAAS;QACT,YAAY;QAEZ,IAAI;YACF,MAAM,WAAW,IAAA,2JAAY;YAC7B,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,EAAE,OAAO,SAAS,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;YAExE,IAAI,aAAa,CAAC,MAAM;gBACtB,YAAY;gBACZ,SAAS;gBACT;YACF;YAEA,MAAM,EAAE,OAAO,WAAW,EAAE,GAAG,MAAM,SAClC,IAAI,CAAC,kBACL,MAAM,CAAC;gBAAE,SAAS,KAAK,EAAE;gBAAE,QAAQ;YAAY,GAC/C,EAAE,CAAC,QAAQ,MACX,EAAE,CAAC,UAAU;YAEhB,IAAI,aAAa;gBACf,YAAY;gBACZ,SAAS;gBACT;YACF;YAEA,SAAS;QACX,EAAE,OAAM;YACN,YAAY;YACZ,SAAS;QACX;IACF;IAEA,qBACE,kQAAC;QAAI,WAAU;kBACb,cAAA,kQAAC;YAAI,WAAU;;8BACb,kQAAC;oBAAG,WAAU;8BAAsC;;;;;;8BAEpD,kQAAC;oBAAI,WAAU;;sCACb,kQAAC;4BAAE,WAAU;sCAA0B;;;;;;sCACvC,kQAAC;4BAAE,WAAU;sCAAoD;;;;;;;;;;;;gBAGlE,UAAU,0BACT,kQAAC;oBAAI,WAAU;;sCACb,kQAAC;4BAAE,WAAU;sCAA4B;;;;;;sCACzC,kQAAC;4BAAE,WAAU;sCAAqB;;;;;;;;;;;yCAGpC,kQAAC;oBAAI,WAAU;;wBACZ,UAAU,yBACT,kQAAC;4BAAE,WAAU;sCAAsB;;;;;;sCAErC,kQAAC,uJAAM;4BACL,SAAS;4BACT,UAAU,UAAU;4BACpB,WAAU;sCAET,UAAU,YAAY,mBAAmB;;;;;;sCAE5C,kQAAC;4BAAE,WAAU;sCAAqB;;;;;;;;;;;;;;;;;;;;;;;AAQ9C;GAlFS;;QACc,6NAAe;;;KAD7B;AAoFM,SAAS;IACtB,qBACE,kQAAC,8OAAQ;QACP,wBACE,kQAAC;YAAI,WAAU;sBACb,cAAA,kQAAC;gBAAE,WAAU;0BAAa;;;;;;;;;;;kBAI9B,cAAA,kQAAC;;;;;;;;;;AAGP;MAZwB"}}]
}